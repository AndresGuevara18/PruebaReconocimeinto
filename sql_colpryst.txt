-- Crear la base de datos y seleccionarla
create database colpryst_col3;
use colpryst_col3;

-- Crear tabla 'cargo'
create table cargo (
    id_cargo int auto_increment not null,
    nombre_cargo varchar(80) not null,
    descripcion varchar(80),
    constraint pk_cargo primary key (id_cargo)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COLLATE=utf8_spanish2_ci;

-- Crear tabla 'usuario'
create table usuario (
    id_usuario int auto_increment not null,
    tipo_documento varchar(20) not null,
    numero_documento varchar(20) not null unique,
    nombre_empleado varchar(80) not null,
    email_empleado varchar(80) not null unique,
    contrasena varchar(100),
    id_cargo int not null,
    constraint pk_usuario primary key (id_usuario),
    constraint fk_usuario_cargo foreign key (id_cargo) references cargo (id_cargo)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COLLATE=utf8_spanish2_ci;

-- Crear tabla 'reconocimiento_facial' con columna tipo BLOB
create table reconocimiento_facial (
    id_foto int auto_increment not null,
    fotografia_emple LONGBLOB , -- BLOB  not null
    id_usuario int not null,
    constraint pk_reconocimiento_facial primary key (id_foto),
    constraint fk_reconocimiento_usuario foreign key (id_usuario) references usuario (id_usuario)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COLLATE=utf8_spanish2_ci;


-- INSERT
-- InserciÃ³n de registros en la tabla Cargo
INSERT INTO Cargo (nombre_cargo, descripcion) VALUES 
('Gerente', 'Gerente de operaciones'),
('Desarrollador', 'Desarrollador de software'),
('Contador', 'Encargado de finanzas'),
('Soporte TÃ©cnico', 'Soporte de IT'),
('Marketing', 'Especialista en marketing'),
('Recursos Humanos', 'GestiÃ³n de personal'),
('Vendedor', 'Venta de productos'),
('Analista', 'Analista de datos'),
('Director', 'Director de la empresa'),
('Administrativo', 'AdministraciÃ³n general');

-- InserciÃ³n de registros en la tabla Usuario
INSERT INTO usuario (tipo_documento, numero_documento, nombre_empleado, email_empleado, contrasena, id_cargo) VALUES
-- ðŸ“Œ 1 Gerente (ID Cargo = 1)
('DNI', '12345678A', 'Carlos PÃ©rez', 'carlos.perez@colpryst.com', 'admin123', 1),  

-- ðŸ“Œ 1 Administrativo (ID Cargo = 10)
('DNI', '23456789B', 'Ana GÃ³mez', 'ana.gomez@colpryst.com', NULL, 10),  

-- ðŸ“Œ 3 Desarrolladores (ID Cargo = 2)
('DNI', '34567890C', 'Luis MartÃ­nez', 'luis.martinez@colpryst.com', 'subadmin789', 2),  
('DNI', '45678901D', 'Marta RodrÃ­guez', 'marta.rodriguez@colpryst.com', NULL, 2),  
('DNI', '56789012E', 'Jorge FernÃ¡ndez', 'jorge.fernandez@colpryst.com', NULL, 2),  

-- ðŸ“Œ 2 Contadores (ID Cargo = 3)
('DNI', '67890123F', 'LucÃ­a DÃ­az', 'lucia.diaz@colpryst.com', NULL, 3),  
('DNI', '78901234G', 'Juan LÃ³pez', 'juan.lopez@colpryst.com', NULL, 3),  

-- ðŸ“Œ 5 Soporte TÃ©cnico (ID Cargo = 4)
('DNI', '89012345H', 'Elena SÃ¡nchez', 'elena.sanchez@colpryst.com', NULL, 4),  
('DNI', '90123456I', 'Pedro GutiÃ©rrez', 'pedro.gutierrez@colpryst.com', NULL, 4),  
('DNI', '01234567J', 'Sara Ruiz', 'sara.ruiz@colpryst.com', NULL, 4),  
('DNI', '11111111K', 'AndrÃ©s Torres', 'andres.torres@colpryst.com', NULL, 4),  
('DNI', '22222222L', 'Gabriel NÃºÃ±ez', 'gabriel.nunez@colpryst.com', NULL, 4),  

-- ðŸ“Œ 3 Marketing (ID Cargo = 5)
('DNI', '33333333M', 'Natalia Herrera', 'natalia.herrera@colpryst.com', NULL, 5),  
('DNI', '44444444N', 'Emilio Castro', 'emilio.castro@colpryst.com', NULL, 5),  
('DNI', '55555555O', 'Marta Blanco', 'marta.blanco@colpryst.com', NULL, 5),  

-- ðŸ“Œ 2 Recursos Humanos (ID Cargo = 6)
('DNI', '66666666P', 'Esteban SuÃ¡rez', 'esteban.suarez@colpryst.com', NULL, 6),  
('DNI', '77777777Q', 'Rosa Delgado', 'rosa.delgado@colpryst.com', NULL, 6),  

-- ðŸ“Œ 5 Vendedores (ID Cargo = 7)
('DNI', '88888888R', 'TomÃ¡s Gil', 'tomas.gil@colpryst.com', NULL, 7),  
('DNI', '99999999S', 'Valeria Rojas', 'valeria.rojas@colpryst.com', NULL, 7),  
('DNI', '10101010T', 'Carla Vega', 'carla.vega@colpryst.com', NULL, 7),  
('DNI', '11122233U', 'Ricardo Flores', 'ricardo.flores@colpryst.com', NULL, 7),  
('DNI', '22233344V', 'Alejandro Ortiz', 'alejandro.ortiz@colpryst.com', NULL, 7),  

-- ðŸ“Œ 3 Analistas (ID Cargo = 8)
('DNI', '33344455W', 'Raquel SÃ¡nchez', 'raquel.sanchez@colpryst.com', NULL, 8),  
('DNI', '44455566X', 'Pablo DÃ­az', 'pablo.diaz@colpryst.com', NULL, 8),  
('DNI', '55566677Y', 'MartÃ­n Herrera', 'martin.herrera@colpryst.com', NULL, 8),  

-- ðŸ“Œ 1 Director (ID Cargo = 9)
('DNI', '66677788Z', 'Laura Castillo', 'laura.castillo@colpryst.com', 'director2024', 9);